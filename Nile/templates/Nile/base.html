{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>{% block title %}Nile{% endblock %}</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <style>
        /* background color */
        .navbar-custom {
            background-color: #0F160C;
        }

        /* brand and text color */
        .navbar-custom .navbar-brand,
        .navbar-custom .navbar-text {
            color: #E9EEE7;
        }

        /* sidebar style */
        #mySidenav {
            height: 100%;
            width: 0;
            position: fixed;
            z-index: 1;
            top: 0;
            left: 0;
            background-color: #b7b9b6;
            overflow-x: hidden;
            transition: 0.5s;
            padding-top: 60px;
        }

        #mySidenav a {
            padding: 8px 8px 8px 32px;
            text-decoration: none;
            font-size: 25px;
            color: #E9EEE7;
            display: block;
            transition: 0.3s;
        }

        #mySidenav a:hover {
            color: #f1f1f1;
        }

        #mySidenav .closebtn {
            position: absolute;
            top: 0;
            right: 25px;
            font-size: 36px;
            margin-left: 50px;
        }

        /* On mouse-over */
        .sidenav a:hover, .dropdown-btn:hover {
        color: #f1f1f1;
        }

        /* Add an active class to the active dropdown button */
        .active {
          background-color: #b7b9b6;
          color: white;
        }

        /* Dropdown container (hidden by default). Optional: add a lighter background color and some left padding to change the design of the dropdown content */
        .dropdown-container {
          display: none;
          background-color: #262626;
          padding-left: 8px;
        }

        /* Optional: Style the caret down icon */
        .fa-caret-down {
          float: right;
          padding-right: 8px;
        }

        /* Some media queries for responsiveness */
        @media screen and (max-height: 450px) {
          .sidenav {padding-top: 15px;}
          .sidenav a {font-size: 18px;}
        }

        .fa-shopping-cart {
            font-size: 24px;
            color: lightgrey;
            margin-right: 5px; /* Adjust margin for better spacing */
            border: none !important;
            outline: none !important;
            box-shadow: none !important;
        }

        .container-fluid {
            display: flex;
            align-items: center;
            justify-content: flex-start;
        }

        .container-fluid span,
        .container-fluid a.navbar-brand {
            margin: 0; /* Remove margin between "Categories" and "Nile" */
        }

        a.navbar-brand {
            font-size: 24px;
            margin-left: 5px;
        }

        .navbar-brand {
            margin-right: 0;
        }

        .container-fluid span {
            font-size: 30px;
            cursor: pointer;
            margin-right: 5px;
        }

    </style>
</head>

<body>

<nav class="navbar navbar-custom navbar-expand-lg" style="font-family: sans-serif">
    <div id="mySidenav" class="sidenav">
      <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
      <a href="javascript:void(0)" class="dropdown-btn">Clothing & Accessories</a>
        <div class="dropdown-container">
        <a href="{% url 'Nile:subcategory_detail' subcategory_id=2 %}">Men's Clothing</a>
        <a href="{% url 'Nile:subcategory_detail' subcategory_id=3 %}">Women's Clothing</a>
        <a href="{% url 'Nile:subcategory_detail' subcategory_id=4 %}">Children's Clothing</a>
        <a href="{% url 'Nile:subcategory_detail' subcategory_id=5 %}">Accessories</a>
        </div>
      <a href="#" class="dropdown-btn">Health & Beauty</a>
        <div class = "dropdown-container">
        <a href="{% url 'Nile:subcategory_detail' subcategory_id=7 %}">Skin & Hair Care</a>
        <a href="{% url 'Nile:subcategory_detail' subcategory_id=6 %}">Makeup</a>
        <a href="{% url 'Nile:subcategory_detail' subcategory_id=8 %}">Supplements</a>
        </div>
      <a href="#" class = "dropdown-btn">Electronics</a>
        <div class="dropdown-container">
        <a href="{% url 'Nile:subcategory_detail' subcategory_id=9 %}">Smartphones & Accessories</a>
        <a href="{% url 'Nile:subcategory_detail' subcategory_id=10 %}">Computers & Accessories</a>
        <a href="{% url 'Nile:subcategory_detail' subcategory_id=15 %}">Audio & TV</a>
        <a href="{% url 'Nile:subcategory_detail' subcategory_id=16 %}">Photography</a>
      </div>
      <a href="#" class = "dropdown-btn">Home & Garden</a>
        <div class="dropdown-container">
        <a href="{% url 'Nile:subcategory_detail' subcategory_id=11 %}">Home Decor</a>
        <a href="{% url 'Nile:subcategory_detail' subcategory_id=12 %}">Furniture</a>
        <a href="{% url 'Nile:subcategory_detail' subcategory_id=13 %}">Gardening</a>
        <a href="{% url 'Nile:subcategory_detail' subcategory_id=14 %}">Bed & Bath</a>
      </div>
    </div>


        <div class="container-fluid d-flex">
            <span class="text-light me-4" style="font-size: 20px" onclick="openNav()">&#9776; Categories</span>
            <a class="navbar-brand fs-1 fw-bold me-auto" href="{% url 'Nile:index' %}" style="font-size:24px">Nile</a>
        </div>
         <div>
            <ul class="nav navbar-nav ml-auto">
                    {% if user.is_authenticated %}
                        <li><a class="nav-link navbar-brand fs-6 me-auto" href="#"><span class="glyphicon glyphicon-log-in"></span>Account</a></li>
                        <li><a class="nav-link navbar-brand fs-6 me-auto" href="{% url 'Nile:order_list' %}"><span class="glyphicon glyphicon-log-in"></span>Orders</a></li>
                        <li><a class="nav-link navbar-brand fs-6 me-auto" href="{% url 'logout' %}"><span class="glyphicon glyphicon-log-in"></span>Logout</a></li>

                        {% if user.is_superuser %}
                            <li class="nav-item dropdown">
                                <a class="nav-link navbar-brand dropdown-toggle fs-6" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                                Retailer Functions
                                </a>
                                <ul class="dropdown-menu">
                                    <li><a class="dropdown-item" href="{% url 'Nile:item_create'%}">Add Item</a></li>
                                </ul>
                            </li>
                        {% endif %}

                    {% else %}
                        <li><a class="nav-link navbar-brand fs-6" href="{% url 'login' %}"><span class="glyphicon glyphicon-log-in"></span>Login</a>
                        </li>
                        <li><a class="nav-link navbar-brand fs-6" href="{% url 'register' %}"><span class="glyphicon glyphicon-log-in"></span>Sign Up</a>
                        </li>
                    {% endif %}

                    <li><a href={% url "cart:cart_detail" %}><button class="fa fa-shopping-cart" style="font-size:24px;margin-top:10px;color: #000000"></button></a></li>

            </ul>
        </div>
</nav>

<div id="mySidenav">
    <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
    <!-- Add your sidebar content here -->
</div>

<div class="container">
    {% if user.is_authenticated %}
        Welcome, {{ user.first_name }} {{ user.last_name }}
    {% endif %}
</div>

<div class="container">
    <br/>
    {% block content %}
    {% endblock %}
</div>

<!-- Rest of your HTML content goes here -->

<!-- JavaScript functions for sidebar -->
<script>
var dropdown = document.getElementsByClassName("dropdown-btn");
var i;

for (i = 0; i < dropdown.length; i++) {
    dropdown[i].addEventListener("click", function () {
        this.classList.toggle("active");
        var dropdownContent = this.nextElementSibling;
        if (dropdownContent.style.display === "block") {
            dropdownContent.style.display = "none";
        } else {
            dropdownContent.style.display = "block";
        }
    });
}
    function openNav() {
        document.getElementById("mySidenav").style.width = "250px";
    }

    function closeNav() {
        document.getElementById("mySidenav").style.width = "0";
    }

</script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
A        integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
        crossorigin="anonymous">
</script>
